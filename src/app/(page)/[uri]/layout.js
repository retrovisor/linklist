import Header from "@/components/Header";
import { Lato } from 'next/font/google';
import '../../globals.css';
import '@/styles/global.css';
import { Page } from "@/models/Page";
import mongoose from "mongoose";

const lato = Lato({ subsets: ['latin'], weight: ['400', '700'] });

export async function generateMetadata({ params }) {
  try {
    await mongoose.connect(process.env.MONGO_URI);
    const uri = params.uri;
    const page = await Page.findOne({ uri });

    if (!page) {
      return {
        title: 'Page Not Found | Mysite.com',
      };
    }

    return {
      title: `${page.displayName} (@${page.uri}) | Mysite.com`,
    };
  } catch (error) {
    console.error('Error generating metadata:', error);
    return {
      title: 'Error | Mysite.com',
    };
  }
}

export default function RootLayout({ children }) {
  return (
    <html lang="en">
      <body className={lato.className}>
        <main>
     <div className="logo-container">

    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 54.62 14.03" class="profile-basic-head__logo">
  <path d="M34.6,4.23h0a.9.9,0,1,0-.93-.9.92.92,0,0,0,.93.9h0"/>
  <path d="M11.09,4.23a.9.9,0,1,0-.93-.9.92.92,0,0,0,.93.9h0"/>
  <path d="M18.67,9.79c-.54-.16-.9,0-1.05.43A2.92,2.92,0,0,1,15,12.43c-.91,0-1.27-.56-.93-1.78l1.05-3.8h3.3a.86.86,0,0,0,.9-.83c.07-.5-.3-.76-.78-.76h-3L15.88,4a.78.78,0,0,0-.42-1L15.3,3a.79.79,0,0,0-1,.44l0,.07-.66,2.38s0,0,0,.08l-1.19,4.27c-.46,1.66-1.39,2.21-2.16,2.21-1.34,0-1.58-.57-1.24-1.78L10.14,6.4a.78.78,0,0,0-.42-1l-.16,0a.79.79,0,0,0-1,.44l0,.07L7.27,10.22c-.67,2.41.25,3.8,2.92,3.8a3.55,3.55,0,0,0,2.46-.93A2.76,2.76,0,0,0,15,14,4.37,4.37,0,0,0,19,10.9c.18-.43.15-1-.37-1.11"/>
  <path d="M5.17,12.35H.63L3.76,1.11a.78.78,0,0,0-.42-1l-.16,0a.79.79,0,0,0-1,.44l0,.07L-.31,12.89a.76.76,0,0,0,.4,1,.76.76,0,0,0,.42.06H5.06a.88.88,0,0,0,.9-.84c.06-.49-.3-.75-.79-.75"/>
  <path d="M25.51,12.35h-4.55L24.1,1.11a.78.78,0,0,0-.42-1l-.16,0a.79.79,0,0,0-1,.44l0,.07L19,12.89a.77.77,0,0,0,.82,1h5.58a.88.88,0,0,0,.9-.84c.06-.49-.3-.75-.78-.75"/>
  <path d="M39.65,7.75c1.57-1.08,3.33-2.38,4.68-3.43a.74.74,0,0,0,.28-1,1.19,1.19,0,0,0-.15-.18.91.91,0,0,0-1.28-.08C41.81,4.13,40.1,5.42,38.54,6.5L40.39.86a.76.76,0,0,0-.42-1,.49.49,0,0,0-.16,0,.81.81,0,0,0-1,.44s0,.05,0,.07l-3.42,12.3a.77.77,0,0,0,.42,1l.16.05a.8.8,0,0,0,1-.44l0-.08.71-3.62c1.3,1.22,2.65,2.59,3.64,3.66a.86.86,0,0,0,.14.18.69.69,0,0,0,.24.95.9.9,0,0,0,1.23,0c-1.35-1.48-2.7-3-4-4.07Z"/>
  <path d="M54.59,11.32c-.47,1.66-1.39,2.21-2.16,2.21-1.34,0-1.59-.57-1.25-1.78L52.39,6.4a.78.78,0,0,0-.42-1l-.16,0a.81.81,0,0,0-1,.44s0,0,0,.07l-1.21,4.36c-.68,2.41.24,3.8,2.92,3.8,1.87,0,3.23-1.2,3.83-3.37l.88-3.16h0a2.85,2.85,0,0,1,2.47-2.21c1,0,1.25.66.94,1.78l-1.62,5.8a.78.78,0,0,0,.42,1l.16.05a.8.8,0,0,0,1-.45l0-.07,1.76-6.34a2.49,2.49,0,0,0-1.47-3.22,2.58,2.58,0,0,0-1.1-.15,3.18,3.18,0,0,0-1.87.64.84.84,0,0,0-.64-.7.77.77,0,0,0-1,.46.64.64,0,0,1,0,.07Z"/>
</svg>
          </div>
          {children}
        </main>
      </body>
    </html>
  );
}
